<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        const products = [
            {
                code: 1,
                name: "product1",
                category: "music",
                price: 1
            },
            {
                code: 2,
                name: "product2",
                category: "books",
                price: 2
            },
            {
                code: 3,
                name: "product3",
                category: "books",
                price: 3
            },
            {
                code: 4,
                name: "product4",
                category: "music",
                price: 4
            }
        ];

        /* -------------------------------------------------------------------------- */
        /*                                   TASK1:                                   */
        /* -------------------------------------------------------------------------- */
        // Implement calcTotalPrice function, so that it will return the sum of all
        // products price.

        function calcTotalPrice(products) {
            let price = products.map(pr => pr.price).reduce((acc, cur) => acc + cur);
            return price;
        }

        let totalPrice = calcTotalPrice(products);
        console.log(totalPrice);

        /* -------------------------------------------------------------------------- */
        /*                                   TASK2:                                   */
        /* -------------------------------------------------------------------------- */
        // Implement calcTotalPriceByCategory function, so that it will return the
        // price sum of all products matching the given catgory

        function calcTotalPriceByCategory(products, category) {
            let priceByCategory = products.filter((pr) => {
                return pr.category == category;
            }).map(pr => pr.price).reduce((acc, curr) => acc + curr);
            return priceByCategory;
        };

        let totalPriceByCategory = calcTotalPriceByCategory(products, "music");
        console.log(totalPriceByCategory);
    </script>
</body>

</html>